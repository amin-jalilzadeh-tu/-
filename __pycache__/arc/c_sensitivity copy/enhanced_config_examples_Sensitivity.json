{
  "// ENHANCED SENSITIVITY ANALYSIS V2": "Complete integration with validation, building-specific, and multi-objective analysis",
  
  "main_config": {
    "sensitivity": {
      "perform_sensitivity": true,
      "scenario_folder": "scenarios",
      "method": "correlation",
      "results_csv": "results_scenarioes/merged_daily_mean_scenarios.csv",
      "target_variable": [
        "Heating:EnergyTransfer [J](Hourly)",
        "Cooling:EnergyTransfer [J](Hourly)",
        "Electricity:Facility [J](Hourly)"
      ],
      "output_csv": "enhanced_sensitivity.csv",
      
      "// Building-specific analysis": "",
      "building_specific": {
        "perform": true,
        "group_by": ["building_function", "age_range"],
        "minimum_buildings_per_group": 3
      },
      
      "// Integration with validation results": "",
      "validation_integration": {
        "use_validation_weights": true,
        "focus_on_failed_buildings": true,
        "validation_threshold": 30.0
      },
      
      "// System-level grouping and analysis": "",
      "parameter_grouping": {
        "group_by_system": true,
        "analyze_interactions": true,
        "systems": ["hvac", "dhw", "envelope", "lighting", "equipment"]
      },
      
      "// Multi-objective optimization": "",
      "multi_objective": {
        "composite_score": true,
        "identify_conflicts": true,
        "objective_weights": {
          "Heating:EnergyTransfer [J](Hourly)": 0.35,
          "Cooling:EnergyTransfer [J](Hourly)": 0.35,
          "Electricity:Facility [J](Hourly)": 0.30
        }
      },
      
      "// Visualization options": "",
      "visualization": {
        "generate_plots": true,
        "plot_types": ["tornado", "heatmap", "scatter", "system_comparison"],
        "output_dir": "sensitivity_plots"
      },
      
      "// Adaptive analysis - screening then detailed": "",
      "adaptive_analysis": {
        "screening_first": true,
        "screening_method": "morris",
        "n_morris_trajectories": 20,
        "detailed_top_n": 20,
        "detailed_method": "sobol",
        "n_sobol_samples": 512
      },
      
      "// Time slice configuration": "",
      "time_slice_config": {
        "method": "custom",
        "custom_config": {
          "months": [6, 7, 8],
          "hours": [14, 15, 16, 17],
          "weekdays_only": true
        }
      },
      
      "// Parameter filtering": "",
      "file_patterns": ["*hvac*.csv", "*dhw*.csv", "*equipment*.csv", "*fenez*.csv"],
      "param_filters": {
        "exclude_params": ["roughness"],
        "param_name_contains": ["setpoint", "temperature", "efficiency", "flow"]
      },
      
      "// Multiple analysis configurations": "",
      "analysis_configs": [
        {
          "name": "Peak Cooling Analysis",
          "method": "correlation",
          "target_variable": "Cooling:EnergyTransfer [J](Hourly)",
          "output_csv": "sensitivity_peak_cooling.csv",
          "time_slice_config": {
            "method": "predefined",
            "predefined_slice": "peak_cooling_months"
          },
          "param_filters": {
            "param_name_contains": ["cooling", "temperature", "ventilation"]
          }
        },
        {
          "name": "Winter Heating Analysis",
          "method": "correlation",
          "target_variable": "Heating:EnergyTransfer [J](Hourly)",
          "output_csv": "sensitivity_winter_heating.csv",
          "time_slice_config": {
            "method": "predefined",
            "predefined_slice": "peak_heating_months"
          },
          "param_filters": {
            "param_name_contains": ["heating", "insulation", "infiltration"]
          }
        }
      ]
    },
    
    "// ENHANCED SURROGATE V2": "Automated ML with sensitivity-based feature selection",
    "surrogate": {
      "perform_surrogate": true,
      "scenario_folder": "scenarios",
      "results_csv": "results_scenarioes/merged_daily_mean_scenarios.csv",
      "target_variable": [
        "Heating:EnergyTransfer [J](Hourly)",
        "Cooling:EnergyTransfer [J](Hourly)",
        "Electricity:Facility [J](Hourly)"
      ],
      "model_out": "enhanced_multi_output_surrogate.joblib",
      "cols_out": "enhanced_multi_output_columns.joblib",
      "test_size": 0.2,
      
      "// Automated ML configuration": "",
      "automated_ml": true,
      "model_types": ["random_forest", "xgboost", "gradient_boosting"],
      "scale_features": true,
      "cv_strategy": "kfold",
      "cv_folds": 5,
      
      "// Feature selection from sensitivity": "",
      "sensitivity_results_path": "sensitivity_analysis/parameter_rankings.json",
      "feature_selection": {
        "method": "sensitivity_based",
        "top_n": 30,
        "include_interactions": true
      },
      
      "// Model optimization": "",
      "hyperparameter_tuning": {
        "perform": true,
        "method": "bayesian",
        "n_trials": 50
      },
      
      "// Time aggregation": "",
      "time_aggregation": "sum",
      "save_metadata": true,
      "save_feature_importance": true
    },
    
    "// ENHANCED CALIBRATION V2": "Multi-objective PSO with validation",
    "calibration": {
      "perform_calibration": true,
      "scenario_folder": "scenarios",
      "method": "pso",
      "use_surrogate": true,
      "real_data_csv": "data/test_validation_data/measured_data_parsed_format_daily.csv",
      "surrogate_model_path": "enhanced_multi_output_surrogate.joblib",
      "surrogate_columns_path": "enhanced_multi_output_columns.joblib",
      
      "// Multi-variable calibration": "",
      "target_variables": [
        "Heating:EnergyTransfer [J](Hourly)",
        "Cooling:EnergyTransfer [J](Hourly)",
        "Electricity:Facility [J](Hourly)"
      ],
      
      "// PSO configuration": "",
      "algorithm_config": {
        "pso": {
          "n_particles": 100,
          "max_iter": 200,
          "inertia": 0.9,
          "inertia_decay": 0.995,
          "cognitive": 2.0,
          "social": 2.0,
          "velocity_clamp": 0.5
        }
      },
      
      "// Multi-objective setup": "",
      "objectives": [
        {
          "target_variable": "Heating:EnergyTransfer [J](Hourly)",
          "metric": "cvrmse",
          "weight": 0.35,
          "tolerance": 25.0,
          "penalty_factor": 2.0
        },
        {
          "target_variable": "Cooling:EnergyTransfer [J](Hourly)",
          "metric": "cvrmse",
          "weight": 0.35,
          "tolerance": 25.0,
          "penalty_factor": 2.0
        },
        {
          "target_variable": "Electricity:Facility [J](Hourly)",
          "metric": "cvrmse",
          "weight": 0.3,
          "tolerance": 20.0,
          "penalty_factor": 1.5
        }
      ],
      
      "// Parameter selection from sensitivity": "",
      "subset_sensitivity_csv": "sensitivity_analysis/parameter_rankings.json",
      "top_n_params": 25,
      "calibrate_min_max": true,
      "parameter_constraints": {
        "heating_day_setpoint": {"min": 18.0, "max": 22.0},
        "cooling_day_setpoint": {"min": 24.0, "max": 28.0}
      },
      
      "// Validation to prevent overfitting": "",
      "validation": {
        "cross_validate": true,
        "n_folds": 5,
        "overfitting_threshold": 0.20,
        "early_stopping": true,
        "patience": 20
      },
      
      "// Output configuration": "",
      "output_history_csv": "enhanced_calibration_history.csv",
      "best_params_folder": "calibrated_enhanced",
      "history_folder": "calibrated_enhanced",
      "save_convergence_plots": true,
      "save_pareto_front": true
    },
    
    "// AUTOMATED PIPELINE CONFIGURATION": "For future implementation",
    "pipeline": {
      "automated_workflow": {
        "enabled": false,
        "trigger_on_validation_failure": true,
        "validation_threshold": 30.0,
        "max_iterations": 3,
        "improvement_threshold": 5.0
      },
      
      "building_selection": {
        "mode": "validation_based",
        "options": {
          "failed_buildings_only": true,
          "worst_n_buildings": 10,
          "specific_buildings": []
        }
      },
      
      "progressive_refinement": {
        "enabled": true,
        "stages": [
          {
            "name": "coarse",
            "n_scenarios": 50,
            "top_params": 10
          },
          {
            "name": "medium",
            "n_scenarios": 100,
            "top_params": 20
          },
          {
            "name": "fine",
            "n_scenarios": 200,
            "top_params": 30
          }
        ]
      }
    }
  },
  
  "// Keep all existing configurations": "",
  "dhw": "... existing dhw config ...",
  "epw": "... existing epw config ...",
  "zone_sizing": "... existing zone_sizing config ...",
  "equipment": "... existing equipment config ...",
  "shading": "... existing shading config ...",
  "mail_user": "... existing mail_user config ...",
  "fenestration": "... existing fenestration config ...",
  "geometry": "... existing geometry config ...",
  "hvac": "... existing hvac config ...",
  "lighting": "... existing lighting config ...",
  
  "// Example preset configurations": "",
  "sensitivity_presets": {
    "quick_screening": {
      "method": "morris",
      "n_morris_trajectories": 10,
      "visualization": {
        "generate_plots": false
      }
    },
    
    "detailed_analysis": {
      "method": "correlation",
      "building_specific": {
        "perform": true
      },
      "multi_objective": {
        "composite_score": true
      },
      "visualization": {
        "generate_plots": true,
        "plot_types": ["tornado", "heatmap", "scatter"]
      }
    },
    
    "peak_load_focus": {
      "method": "correlation",
      "time_slice_config": {
        "method": "predefined",
        "predefined_slice": "afternoon_peak"
      },
      "target_variable": ["Cooling:EnergyTransfer [J](Hourly)", "Electricity:Facility [J](Hourly)"]
    },
    
    "system_optimization": {
      "parameter_grouping": {
        "group_by_system": true,
        "analyze_interactions": true
      },
      "file_patterns": ["*hvac*.csv", "*dhw*.csv"],
      "adaptive_analysis": {
        "screening_first": true
      }
    }
  }
}