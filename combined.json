{
  "dhw": [
    {
      "building_id": 413673000,
      "param_name": "occupant_density_m2_per_person",
      "min_val": 127.0,
      "max_val": 233.0
    },
    {
      "building_id": 413673000,
      "param_name": "liters_per_person_per_day",
      "fixed_value": 145.0
    },
    {
      "building_function": "residential00",
      "age_range": "1992-2005",
      "param_name": "setpoint_c",
      "min_val": 58.0,
      "max_val": 60.0
    },
    {
      "building_function": "non_residential000",
      "param_name": "occupant_density_m2_per_person",
      "min_val": 12.0,
      "max_val": 18.0
    }
  ],
  "epw": [
    {
      "building_id": 413673000,
      "fixed_epw_path": "data/weather/2050.epw"
    },
    {
      "desired_year": 2050,
      "override_year_to": 2020
    }
  ],
  "zone_sizing": [
    {
      "param_name": "cooling_supply_air_temp",
      "min_val": 12.0,
      "max_val": 15.0
    },
    {
      "param_name": "heating_supply_air_temp",
      "min_val": 40.0,
      "max_val": 50.0
    },
    {
      "param_name": "cooling_supply_air_hr",
      "min_val": 0.008,
      "max_val": 0.010
    },
    {
      "param_name": "heating_supply_air_hr",
      "min_val": 0.003,
      "max_val": 0.005
    },
    {
      "param_name": "cooling_design_air_flow_method",
      "choices": [
        "Flow/Zone",
        "DesignDay",
        "DesignDayWithLimit"
      ]
    }
  ],
  "equipment": [
    {
      "param_name": "equip_wm2",
      "min_val": 3.0,
      "max_val": 7.0
    },
    {
      "param_name": "tD",
      "description": "Schedule value for day occupancy (W)",
      "min_val": 400.0,
      "max_val": 800.0
    },
    {
      "param_name": "tN",
      "description": "Schedule value for night occupancy (W)",
      "min_val": 150.0,
      "max_val": 350.0
    }
  ],
  "shading": [
    {
      "param_name": "slat_angle_deg",
      "min_val": 30.0,
      "max_val": 60.0
    },
    {
      "param_name": "slat_beam_solar_reflectance",
      "min_val": 0.6,
      "max_val": 0.8
    },
    {
      "param_name": "blind_to_glass_distance",
      "fixed_value": 0.075
    },
    {
      "param_name": "slat_width",
      "min_val": 0.020,
      "max_val": 0.030
    }
  ],
  "mail_user": [
    {
      "email": "amin.jalilzade1@gmail.com"
    }
  ],
  "fenestration": [
    {
      "building_id": 413673000,
      "building_function": "residential",
      "building_type": "Two-and-a-half-story House",
      "age_range": "1992-2005",
      "scenario": "scenario1",
      "param_name": "wwr",
      "min_val": 0.025,
      "max_val": 0.03
    },
    {
      "building_function": "non_residential0",
      "age_range": "2015 and later",
      "scenario": "scenario1",
      "param_name": "roof_R_value",
      "fixed_value": 3.0
    }
  ],
  "geometry": [
    {
      "building_id": 413673,
      "param_name": "perimeter_depth",
      "min_val": 3.5,
      "max_val": 4.0,
      "fixed_value": true
    },
    {
      "building_id": 4136733,
      "param_name": "has_core",
      "fixed_value": true
    },
    {
      "building_id": 4136737,
      "param_name": "has_core",
      "fixed_value": false
    },
    {
      "building_type": "Meeting Function",
      "param_name": "has_core",
      "fixed_value": true
    },
    {
      "building_id": 4136738,
      "param_name": "has_core",
      "fixed_value": false
    }
  ],
  "hvac": [
    {
      "building_id": 413673000,
      "param_name": "heating_day_setpoint",
      "min_val": 10.0,
      "max_val": 11.0
    },
    {
      "building_function": "residential0",
      "param_name": "cooling_day_setpoint",
      "fixed_value": 25.6
    },
    {
      "scenario": "scenario10",
      "age_range": "2015 and later",
      "param_name": "max_heating_supply_air_temp",
      "min_val": 48.6,
      "max_val": 50.0
    }
  ],
  "lighting": [
    {
      "building_id": 413673000,
      "param_name": "lights_wm2",
      "min_val": 18.0,
      "max_val": 20.0
    },
    {
      "building_type": "Residential0",
      "param_name": "tN",
      "min_val": 10999,
      "max_val": 11999
    },
    {
      "building_id": 4136731,
      "building_type": "non_residential",
      "param_name": "parasitic_wm2",
      "min_val": 0.28,
      "max_val": 0.3
    }
  ],
  "main_config": {
    "paths": {
      "building_data": "data/df_buildings.csv",
      "fenez_excel": "excel_data/envelop.xlsx",
      "dhw_excel": "excel_data/dhw_overrides.xlsx",
      "epw_excel": "excel_data/epw_overrides.xlsx",
      "lighting_excel": "excel_data/lighting_overrides.xlsx",
      "hvac_excel": "excel_data/hvac_overrides.xlsx",
      "vent_excel": "excel_data/vent_overrides.xlsx"
    },
    "use_database": false,
    "filter_by": "meestvoorkomendepostcode",
    "db_filter": {
      "meestvoorkomendepostcode": [
        "3066HG"
      ],
      "pand_id": [
        "0383100000001369",
        "0383100000001370",
        "5473VX"
      ],
      "pand_ids": [
        "XYZ123",
        "XYZ999"
      ],
      "bbox_xy": [
        120000.0,
        487000.0,
        121000.0,
        488000.0
      ],
      "bbox_latlon": [
        51.873,
        5.589,
        51.878,
        5.6
      ]
    },
    "excel_overrides": {
      "override_fenez_excel": false,
      "override_dhw_excel": false,
      "override_epw_excel": false,
      "override_lighting_excel": false,
      "override_hvac_excel": false,
      "override_vent_excel": false
    },
    "user_config_overrides": {
      "override_fenez_json": true,
      "override_dhw_json": true,
      "override_epw_json": true,
      "override_lighting_json": true,
      "override_hvac_json": true,
      "override_vent_json": true,
      "override_geometry_json": true,
      "override_shading_json": true
    },
    "idf_creation": {
      "perform_idf_creation": true,
      "scenario": "scenario1",
      "calibration_stage": "pre_calibration",
      "strategy": "B",
      "random_seed": 42,
      "iddfile": "EnergyPlus/Energy+.idd",
      "idf_file_path": "EnergyPlus/Minimal.idf",
      "output_idf_dir": "output_IDFs",
      "run_simulations": true,
      "simulate_config": {
        "num_workers": 4,
        "ep_force_overwrite": true
      },
      "post_process": false,
      "post_process_config": {
        "base_output_dir": "Sim_Results",
        "outputs": [
          {
            "convert_to_daily": true,
            "convert_to_monthly": false,
            "aggregator": "none",
            "output_csv": "output/results/merged_as_is.csv"
          },
          {
            "convert_to_daily": true,
            "convert_to_monthly": false,
            "aggregator": "mean",
            "output_csv": "output/results/merged_daily_mean.csv"
          },
          {
            "convert_to_daily": true,
            "convert_to_monthly": true,
            "aggregator": "mean",
            "output_csv": "output/results/merged_monthly_mean.csv"
          }
        ]
      },

    
      "output_definitions": {
        "desired_variables": [
          "Facility Total Electric Demand Power",
          "Zone Air Temperature",
          "Boiler Heating Energy",
          "Water Heater Heating Energy"
        ],
        "desired_meters": [
          "Electricity:Facility",
          "Heating:EnergyTransfer",
          "Cooling:EnergyTransfer"
        ],
        "override_variable_frequency": "Daily",
        "override_meter_frequency": "Daily",
        "include_tables": true,
        "include_summary": true
      }
    },



 "parsing": {
      "perform_parsing": true,
      "parse_after_simulation": true,
      "parse_mode": "all",
      "parse_types": {
        "idf": true,
        "sql": true
      },
      "categories": null,
      "validate_outputs": true,
      "batch_size": 100,
      "parallel_parsing": false,
      "save_raw_objects": true,
      "output_options": {
        "save_summary": true,
        "save_by_category": true,
        "save_by_building": true
      }
    },






  "timeseries_aggregation": {
    "perform_aggregation": true,
    
    "variable_selection": {
      "mode": "all",  
      "variables": [
        "Zone Air Temperature [C](Hourly)",
        "Electricity:Facility"
      ],
      "patterns": ["*Energy*", "*Temperature*"]
    },
    
    "aggregation_rules": {
      "default_method": "mean",
      "by_pattern": [
        {
          "pattern": ["*Energy*", "*Consumption*", "Electricity:*"],
          "method": "sum"
        },
        {
          "pattern": ["*Temperature*", "*Setpoint*"],
          "method": "mean"
        },
        {
          "pattern": ["*Rate*", "*Power*"],
          "method": "mean"
        }
      ],
      "by_variable": {
        "Electricity:Facility": "sum",
        "Zone Air Temperature [C](Hourly)": "mean"
      }
    },
    
    "default_settings": {
      "target_frequencies": ["daily", "monthly", "yearly"],
      "skip_existing": true
    },
    
    "variable_overrides": [
      {
        "variable": "Electricity:Facility",
        "aggregation_methods": {
          "hourly_to_daily": "sum",
          "daily_to_monthly": "sum"
        }
      }
    ],
    
    "input_options": {
      "use_base_data": true,
      "use_variant_data": true
    }
  }

,







    


  "modification": {
    "perform_modification": true,
    "base_idf_selection": {
      "method": "specific",
      "building_ids": ["4136733"],
      "use_output_idfs": true
    },
    "modification_strategy": {
      "type": "scenarios",
      "num_variants": 19,
      "seed": 42,
      "sampling_method": "latin_hypercube"
    },
    "categories_to_modify": {
      "hvac": {
        "enabled": true,
        "strategy": "high_efficiency",
        "parameters": {
          "cooling_cop": {
            "method": "percentage",
            "change": 30,
            "comment": "Increase cooling COP by 30%"
          },
          "heating_efficiency": {
            "method": "absolute",
            "value": 0.95,
            "comment": "Set heating efficiency to 95%"
          },
          "fan_efficiency": {
            "method": "range",
            "range": [0.85, 0.92],
            "comment": "High-efficiency fan motors"
          }
        }
      },
      "lighting": {
        "enabled": true,
        "strategy": "led_retrofit",
        "parameters": {
          "watts_per_area": {
            "method": "percentage",
            "change": -50,
            "comment": "LED retrofit reduces power by 50%"
          },
          "fraction_radiant": {
            "method": "absolute",
            "value": 0.25,
            "comment": "LEDs have lower radiant fraction"
          }
        }
      },
      "materials": {
        "enabled": true,
        "strategy": "insulation_upgrade",
        "parameters": {
          "conductivity": {
            "method": "percentage",
            "change": -30,
            "comment": "Reduce conductivity by 30% for better insulation"
          },
          "thermal_resistance": {
            "method": "multiplier",
            "factor": 1.5,
            "comment": "Increase R-value by 50%"
          },
          "u_factor": {
            "method": "absolute",
            "value": 1.2,
            "comment": "High-performance windows"
          },
          "shgc": {
            "method": "range",
            "range": [0.25, 0.35],
            "comment": "Low solar heat gain for cooling climates"
          }
        }
      },
      "infiltration": {
        "enabled": true,
        "strategy": "air_sealing",
        "parameters": {
          "air_changes_per_hour": {
            "method": "percentage",
            "change": -40,
            "comment": "Reduce infiltration by 40%"
          },
          "flow_per_zone_area": {
            "method": "multiplier",
            "factor": 0.6,
            "comment": "Tighter construction"
          }
        }
      },
      "ventilation": {
        "enabled": true,
        "strategy": "demand_controlled",
        "parameters": {
          "outdoor_air_flow_per_person": {
            "method": "absolute",
            "value": 0.0025,
            "comment": "DCV minimum rate"
          },
          "sensible_effectiveness": {
            "method": "range",
            "range": [0.75, 0.85],
            "comment": "Heat recovery effectiveness"
          }
        }
      },
      "equipment": {
        "enabled": true,
        "strategy": "energy_star",
        "parameters": {
          "design_level": {
            "method": "percentage",
            "change": -25,
            "comment": "Energy Star equipment"
          },
          "watts_per_area": {
            "method": "multiplier", 
            "factor": 0.75,
            "comment": "Reduce plug loads"
          }
        }
      },
      "dhw": {
        "enabled": true,
        "strategy": "efficiency_upgrade",
        "parameters": {
          "heater_efficiency": {
            "method": "absolute",
            "value": 0.95,
            "comment": "High-efficiency water heater"
          },
          "tank_volume": {
            "method": "percentage",
            "change": -10,
            "comment": "Right-sized tank"
          },
          "use_flow_rate": {
            "method": "multiplier",
            "factor": 0.7,
            "comment": "Low-flow fixtures"
          }
        }
      },
      "geometry": {
        "enabled": true,
        "strategy": "window_optimization",
        "parameters": {
          "window_multiplier": {
            "method": "range",
            "range": [1.0, 1.2],
            "comment": "Optimize window area"
          },
          "ceiling_height": {
            "method": "percentage",
            "change": 10,
            "comment": "Increase ceiling height"
          }
        }
      },
      "schedules": {
        "enabled": false,
        "strategy": "occupancy_optimization",
        "parameters": {
          "constant_value": {
            "method": "multiplier",
            "factor": 0.9,
            "comment": "Reduce base occupancy"
          }
        }
      },
      "shading": {
        "enabled": true,
        "strategy": "dynamic_shading",
        "parameters": {
          "shading_control_type": {
            "method": "discrete",
            "options": ["OnIfHighSolarOnWindow"],
            "comment": "Solar-responsive shading"
          },
          "shading_setpoint": {
            "method": "range",
            "range": [200, 400],
            "comment": "Shading activation threshold W/m2"
          }
        }
      },
      "simulation_control": {
        "enabled": true,
        "strategy": "balanced",
        "parameters": {
          "output_variable_reporting_frequency": {
            "method": "absolute",
            "value": "Daily",
            "comment": "Keep daily reporting for time series aggregation"
          },
          "timesteps_per_hour": {
            "method": "absolute",
            "value": 6,
            "comment": "10-minute timesteps"
          },
          "shadow_calculation_frequency": {
            "method": "absolute",
            "value": 20,
            "comment": "Calculate shadows every 20 days"
          }
        }
      },
      "site_location": {
        "enabled": true,
        "strategy": "climate_adjustment",
        "parameters": {
          "ground_temp_january": {
            "method": "percentage",
            "change": 2,
            "comment": "Climate warming scenario"
          },
          "ground_temp_february": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_march": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_april": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_may": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_june": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_july": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_august": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_september": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_october": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_november": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          },
          "ground_temp_december": {
            "method": "percentage",
            "change": 5,
            "comment": "Climate warming scenario"
          }
        }
      }
    },
    "output_options": {
      "save_modified_idfs": true,
      "track_modifications": true,
      "generate_report": true,
      "output_dir": "modified_idfs",
      "report_formats": ["json", "parquet"],
      "report_settings": {
        "include_charts": true,
        "include_parameter_matrix": true,
        "include_detailed_modifications": true,
        "max_modifications_per_variant": 50,
        "generate_comparison_plots": true
      },
      "file_naming": {
        "include_timestamp": true,
        "include_strategy": true,
        "include_variant_id": true,
        "format": "{building_id}_{strategy}_{variant_id}_{timestamp}"
      },
      "logging": {
        "log_level": "INFO",
        "save_log_file": true,
        "log_modifications": true,
        "log_errors_separately": true
      }
    },
    "post_modification": {
      "run_simulations": true,
      "simulation_config": {
            "num_workers": 6,     
            "epw_assignment": "use_original"  
        },
      "parse_results": {
        "parse_idf": false,
        "parse_sql": true,
        "categories": null
      },
      "compare_with_baseline": true,
      "analysis_options": {
        "calculate_savings": true,
        "generate_comparison_charts": true,
        "export_to_database": false,
        "create_summary_dashboard": true
      }
    },
    "validation_options": {
      "validate_modifications": true,
      "check_parameter_ranges": true,
      "verify_idf_syntax": true,
      "run_epcheck": false,
      "validation_rules": {
        "max_cop_value": 10.0,
        "min_efficiency": 0.5,
        "max_u_factor": 5.0,
        "min_shgc": 0.1,
        "max_shgc": 0.9
      }
    },
    "scenarios": [
      {
        "name": "baseline",
        "description": "No modifications - baseline case",
        "overrides": {}
      },
      {
        "name": "high_performance_envelope",
        "description": "Focus on envelope improvements",
        "overrides": {
          "materials": {
            "enabled": true,
            "parameters": {
              "conductivity": {
                "method": "percentage",
                "change": -50
              }
            }
          },
          "infiltration": {
            "enabled": true,
            "parameters": {
              "air_changes_per_hour": {
                "method": "absolute",
                "value": 0.1
              }
            }
          }
        }
      },
      {
        "name": "efficient_systems",
        "description": "Focus on HVAC and lighting efficiency",
        "overrides": {
          "hvac": {
            "enabled": true,
            "strategy": "high_efficiency"
          },
          "lighting": {
            "enabled": true,
            "strategy": "led_retrofit"
          }
        }
      },
      {
        "name": "comprehensive_retrofit",
        "description": "All energy efficiency measures",
        "overrides": {
          "materials": {
            "enabled": true,
            "parameters": {
              "conductivity": {
                "method": "percentage",
                "change": -40
              },
              "u_factor": {
                "method": "absolute",
                "value": 1.0
              }
            }
          },
          "hvac": {
            "enabled": true,
            "parameters": {
              "cooling_cop": {
                "method": "percentage",
                "change": 40
              }
            }
          },
          "lighting": {
            "enabled": true,
            "parameters": {
              "watts_per_area": {
                "method": "percentage",
                "change": -60
              }
            }
          }
        }
      }
    ]
  }
















    
    
    ,
















  "validation": {
    "perform_validation": true,
    "stages": {
      "baseline": {
        "enabled": true,
        "run_after": "parsing",
        "config": {
          "real_data_path": "data/test_validation_data/measured_data_parsed_format_daily.csv",
          "variables_to_validate": [
            "Electricity",
            "Heating",
            "Cooling",
            "Temperature"
          ],
          "aggregation": {
            "target_frequency": "daily",
            "methods": {
              "energy": "sum",
              "temperature": "mean",
              "power": "mean"
            }
          },
          "thresholds": {
            "default": {
              "cvrmse": 30.0,
              "nmbe": 10.0
            },
            "by_variable": {
              "Temperature": {
                "cvrmse": 20.0,
                "nmbe": 5.0
              }
            }
          },
          "logging": {
            "level": "INFO",
            "show_mappings": true,
            "show_aggregations": true,
            "show_unit_conversions": true
          }
        }
      },
      "modified": {
        "enabled": true,
        "run_after": "modification_parsing",
        "config": {
          "real_data_path": "data/test_validation_data/measured_data_parsed_format_daily.csv",
          "variables_to_validate": [
            "Electricity",
            "Heating",
            "Cooling"
          ],
          "thresholds": {
            "default": {
              "cvrmse": 25.0,
              "nmbe": 8.0
            },
            "comment": "Tighter thresholds for modified results to ensure improvements"
          },
          "logging": {
            "level": "INFO",
            "show_mappings": false,
            "show_aggregations": false,
            "show_unit_conversions": true
          }
        }
      },
      "calibrated": {
        "enabled": false,
        "run_after": "calibration",
        "config": {
          "real_data_path": "data/test_validation_data/measured_data_parsed_format_daily.csv",
          "thresholds": {
            "default": {
              "cvrmse": 15.0,
              "nmbe": 5.0
            }
          }
        }
      }
    }
  },











"sensitivity": {
  "perform_sensitivity": true,
  
  "// Analysis type - 'traditional', 'modification_based', or 'hybrid'": "",
  "analysis_type": "modification_based",
  
  "// Traditional analysis configuration": "",
  "method": "correlation",
  "target_variable": [
    "Heating:EnergyTransfer [J](Hourly)",
    "Cooling:EnergyTransfer [J](Hourly)",
    "Electricity:Facility [J](Hourly)"
  ],
  "categories": ["hvac", "materials", "lighting"],
  "scenario_folder": "scenarios",
  
  "// Time slicing configuration for analyzing specific time periods": "",
  "time_slicing": {
    "// Enable time-based filtering of simulation data": "",
    "enabled": true,
    
    "// Slice type: 'peak_months', 'time_of_day', 'day_of_week', 'custom', 'combined', or 'none'": "",
    "slice_type": "peak_months",
    
    "// Season for peak months analysis: 'cooling', 'heating', or 'both'": "",
    "season": "cooling",
    
    "// Custom peak month definitions (defaults will be used if not specified)": "",
    "peak_cooling_months": [6, 7, 8],
    "peak_heating_months": [12, 1, 2],
    
    "// Peak hours for time of day analysis (24-hour format)": "",
    "peak_hours": [14, 15, 16, 17],
    
    "// Or use range format for continuous hours": "",
    "peak_hours_range": {
      "start": 14,
      "end": 17
    },
    
    "// Day of week analysis options": "",
    "analyze_weekends": true,
    
    "// Custom date range (YYYY-MM-DD format)": "",
    "start_date": null,
    "end_date": null,
    
    "// Combined filtering (all conditions must be met)": "",
    "combined_filters": {
      "months": [6, 7, 8],
      "hours": [14, 15, 16, 17],
      "day_of_week": "weekdays"
    },
    
    "// Comparative analysis across multiple time slices": "",
    "compare_time_slices": false,
    
    "// Define time slices for comparison": "",
    "time_slice_comparisons": [
      {
        "name": "full_year",
        "enabled": false,
        "description": "Full year baseline without filtering"
      },
      {
        "name": "peak_cooling",
        "enabled": true,
        "slice_type": "peak_months",
        "season": "cooling",
        "peak_cooling_months": [6, 7, 8],
        "description": "Summer peak cooling months"
      },
      {
        "name": "peak_heating", 
        "enabled": true,
        "slice_type": "peak_months",
        "season": "heating",
        "peak_heating_months": [12, 1, 2],
        "description": "Winter peak heating months"
      },
      {
        "name": "peak_hours_summer",
        "enabled": true,
        "slice_type": "combined",
        "combined_filters": {
          "months": [6, 7, 8],
          "hours": [14, 15, 16, 17]
        },
        "description": "Peak afternoon hours during summer"
      },
      {
        "name": "business_hours",
        "enabled": true,
        "slice_type": "combined",
        "combined_filters": {
          "hours": [8, 9, 10, 11, 12, 13, 14, 15, 16, 17],
          "day_of_week": "weekdays"
        },
        "description": "Business hours on weekdays"
      },
      {
        "name": "weekday_peaks",
        "enabled": true,
        "slice_type": "combined",
        "combined_filters": {
          "hours": [14, 15, 16, 17],
          "day_of_week": "weekdays"
        },
        "description": "Peak hours on weekdays only"
      },
      {
        "name": "weekend_usage",
        "enabled": true,
        "slice_type": "day_of_week",
        "analyze_weekends": true,
        "description": "Weekend usage patterns"
      }
    ],
    
    "// Analysis options for time-sliced data": "",
    "aggregation_method": "sum",
    "minimum_data_points": 24,
    "handle_missing_data": "skip",
    
    "// Reporting options": "",
    "generate_time_slice_report": true,
    "include_temporal_patterns": true,
    "export_sliced_data": false
  },
  
  "// Modification-based analysis configuration": "",
  "modification_analysis": {
    "// Enable multi-level analysis (zone, equipment, building)": "",
    "multi_level_analysis": true,
    
    "// Aggregation options for zone-level data": "",
    "aggregation_levels": {
      "analyze_by_zone": true,
      "analyze_by_building": true,
      "cross_level_analysis": true
    },
    
    "// Zone data handling": "",
    "zone_options": {
      "use_zone_mappings": true,
      "aggregate_zones_for_building": true,
      "weight_method": "equal"
    },
    
    "// Output variables to analyze": "",
    "output_variables": [
      "Heating:EnergyTransfer [J](Hourly)",
      "Cooling:EnergyTransfer [J](Hourly)",
      "Electricity:Facility [J](Hourly)",
      "Zone Air Temperature [C](Hourly)",
      "Zone Air System Sensible Heating Energy [J](Hourly)",
      "Zone Air System Sensible Cooling Energy [J](Hourly)"
    ],
    
    "// Statistical method for sensitivity calculation": "",
    "method": "elasticity",
    
    "// Aggregation method for outputs": "",
    "output_aggregation": "sum",
    "aggregation": "daily",
    
    "// Parameter groups with new format (category*object_type*object_name*field_name)": "",
    "parameter_groups": {
      "envelope_materials": [
        "materials*MATERIAL*",
        "materials*MATERIAL:NOMASS*",
        "materials*CONSTRUCTION*"
      ],
      "windows": [
        "materials*WINDOWMATERIAL:SIMPLEGLAZINGSYSTEM*",
        "materials*WINDOWMATERIAL:GLAZING*",
        "materials*WINDOWMATERIAL:GAS*"
      ],
      "hvac_systems": [
        "hvac*ZONEHVAC:IDEALLOADSAIRSYSTEM*",
        "hvac*SIZING:ZONE*",
        "hvac*THERMOSTATSETPOINT:DUALSETPOINT*"
      ],
      "water_heating": [
        "dhw*WATERHEATER:MIXED*",
        "dhw*WATEREQUIPMENT*"
      ],
      "internal_loads": [
        "lighting*LIGHTS*",
        "equipment*ELECTRICEQUIPMENT*"
      ],
      "infiltration": [
        "infiltration*ZONEINFILTRATION:DESIGNFLOWRATE*"
      ],
      "ventilation": [
        "ventilation*DESIGNSPECIFICATION:OUTDOORAIR*",
        "ventilation*ZONEVENTILATION:DESIGNFLOWRATE*"
      ],
      "shading": [
        "shading*WINDOWSHADINGCONTROL*",
        "shading*WINDOWMATERIAL:BLIND*"
      ],
      "site_conditions": [
        "site_location*SITE:LOCATION*",
        "site_location*SITE:GROUNDTEMPERATURE:BUILDINGSURFACE*"
      ],
      "simulation_settings": [
        "simulation_control*TIMESTEP*",
        "simulation_control*SHADOWCALCULATION*",
        "simulation_control*SIMULATIONCONTROL*"
      ]
    },
    
    "// Specific parameter filters (optional - to analyze only certain objects/fields)": "",
    "parameter_filters": {
      "include_objects": [],
      "exclude_objects": [],
      "include_fields": [],
      "exclude_fields": ["name", "zone_name", "schedule_name"]
    },
    
    "// Analysis options": "",
    "analysis_options": {
      "weight_by_validation_accuracy": true,
      "test_significance": true,
      "calculate_interactions": true,
      "min_samples_for_analysis": 1,
      "confidence_level": 0.95
    },
    
    "// Sensitivity thresholds": "",
    "sensitivity_thresholds": {
      "high": 0.7,
      "medium": 0.3,
      "low": 0.1
    }
  },
  

  "advanced_analysis": {
    "// Enable advanced analysis methods": "",
    "enabled": true,
    
    "// ---- UNCERTAINTY QUANTIFICATION ----": "",
    "// Quantify uncertainty in sensitivity indices": "",
    "uncertainty_propagation": true,
    "uncertainty_samples": 1000,
    "confidence_level": 0.95,
    "bootstrap_iterations": 100,
    
    "// Parameter distributions for uncertainty analysis": "",
    "// These can be auto-generated from modification ranges if not specified": "",
    "parameter_distributions": {
      "// Example: Define distributions for specific parameter groups": "",
      "hvac*ZONEHVAC:IDEALLOADSAIRSYSTEM*": {
        "type": "normal",
        "mean": 1.0,
        "std": 0.15
      },
      "materials*MATERIAL*Conductivity": {
        "type": "uniform",
        "min": 0.8,
        "max": 1.2
      },
      "lighting*LIGHTS*Watts_per_Zone_Floor_Area": {
        "type": "triangular",
        "min": 0.7,
        "mode": 1.0,
        "max": 1.3
      }
    },
    
    "// ---- THRESHOLD/BREAKPOINT ANALYSIS ----": "",
    "// Identify critical parameter values where behavior changes": "",
    "threshold_analysis": true,
    "min_segment_size": 20,
    "max_breakpoints": 3,
    "threshold_detection_method": "tree",
    "threshold_significance": 0.05,
    
    "// ---- REGIONAL SENSITIVITY ANALYSIS ----": "",
    "// Analyze how sensitivity varies across parameter ranges": "",
    "regional_sensitivity": true,
    "n_regions": 5,
    "region_method": "clustering",
    "region_overlap": 0.1,
    "min_region_samples": 30,
    
    "// ---- TEMPORAL PATTERN ANALYSIS ----": "",
    "// Analyze time-varying sensitivity patterns": "",
    "temporal_patterns": true,
    "time_column": "DateTime",
    "frequency_analysis": true,
    "lag_analysis": true,
    "max_lag": 24,
    "window_size": 168,
    "detect_seasonality": true,
    "decomposition_method": "stl",
    "pattern_detection": true,
    
    "// ---- SOBOL VARIANCE DECOMPOSITION ----": "",
    "// Variance-based sensitivity (computationally intensive)": "",
    "sobol_analysis": false,
    "sobol_samples": 512,
    "sobol_second_order": false,
    "sobol_sampling": "saltelli",
    "sobol_confidence": 0.95,
    
    "// ---- SCENARIO ANALYSIS ----": "",
    "// Analyze sensitivity under different scenarios": "",
    "scenario_analysis": {
      "enabled": true,
      "scenarios": {
        "baseline": {
          "description": "Current building operation",
          "weight": 0.4
        },
        "high_occupancy": {
          "description": "Increased occupancy scenario",
          "weight": 0.3,
          "parameter_modifiers": {
            "equipment*ELECTRICEQUIPMENT*": 1.5,
            "ventilation*DESIGNSPECIFICATION:OUTDOORAIR*": 1.3
          }
        },
        "energy_efficient": {
          "description": "Energy efficiency improvements",
          "weight": 0.3,
          "parameter_modifiers": {
            "lighting*LIGHTS*": 0.7,
            "hvac*ZONEHVAC:IDEALLOADSAIRSYSTEM*": 0.85
          }
        }
      }
    },
    
    "// ---- ANALYSIS INTEGRATION OPTIONS ----": "",
    "// How to integrate advanced results with base sensitivity": "",
    "integration_options": {
      "combine_with_base_results": true,
      "weight_by_uncertainty": true,
      "filter_by_significance": true,
      "significance_threshold": 0.05
    },
    
    "// ---- COMPUTATIONAL OPTIONS ----": "",
    "// Control computational intensity": "",
    "computational_options": {
      "parallel_processing": true,
      "n_jobs": -1,
      "chunk_size": 1000,
      "memory_efficient_mode": false
    }
  },
  

  "// Output configuration": "",
  "output_base_dir": "sensitivity_results",
  
  "// Export options for downstream tools": "",
  "export_for_surrogate": true,
  "export_for_calibration": true,
  "export_top_n_parameters": 10,
  
  "// Legacy export path (for backward compatibility)": "",
  "sensitivity_results_path": "enhanced_sensitivity.csv",
  
  "// Visualization options": "",
  "generate_visualizations": true,
  "visualization_types": [
    "sensitivity_by_level",
    "zone_sensitivity_heatmap",
    "cross_level_sensitivity",
    "top_parameters_by_level",
    "parameter_comparison",
    "category_breakdown",
    "time_slice_comparison",
    "parameter_stability",
    "uncertainty_bounds",
    "threshold_detection_plots",
    "regional_sensitivity_maps",
    "temporal_sensitivity_evolution",
    "frequency_spectrum",
    "scenario_comparison"
  ],
  
  "// Reporting options": "",
  "report_formats": ["json", "html", "parquet"],
  "include_detailed_results": true,
  "save_intermediate_data": true,
  
  "// Advanced reporting options": "",
  "advanced_reporting": {
    "include_uncertainty_intervals": true,
    "show_breakpoint_analysis": true,
    "generate_regional_reports": true,
    "create_temporal_summary": true,
    "export_for_machine_learning": true
  },
  
  "// Advanced settings for parameter analysis": "",
  "parameter_analysis": {
    "// Group similar parameters": "",
    "group_by_object": true,
    "group_by_field": true,
    
    "// Aggregate sensitivity scores for grouped parameters": "",
    "aggregation_method": "mean",
    
    "// Show individual parameter contributions": "",
    "show_individual_contributions": true,
    
    "// New advanced options": "",
    "detect_parameter_interactions": true,
    "identify_redundant_parameters": true,
    "suggest_parameter_groupings": true
  },
  
  "// Output file options for advanced features": "",
  "output_options": {
    "save_raw_results": true,
    "generate_report": true,
    "create_visualizations": true,
    "export_format": "parquet",
    "include_metadata": true,
    
    "// Advanced output files": "",
    "advanced_outputs": {
      "uncertainty_results": "uncertainty_analysis_results.parquet",
      "threshold_results": "threshold_analysis_results.parquet",
      "regional_results": "regional_sensitivity_results.parquet",
      "temporal_results": "temporal_pattern_results.parquet",
      "sobol_results": "sobol_analysis_results.parquet",
      "advanced_summary": "advanced_sensitivity_report.json"
    }
  },
  
  "// Debugging options": "",
  "debug_mode": false,
  "log_zone_mappings": true,
  "export_modification_hierarchy": true,
  "log_parameter_matching": true,
  
  "// Advanced debugging": "",
  "advanced_debug": {
    "log_uncertainty_sampling": false,
    "export_threshold_details": false,
    "save_regional_assignments": false,
    "trace_temporal_calculations": false
  }
}
    ,






















  "surrogate": {
    "perform_surrogate": true,
    
    "// Pipeline Selection": "Choose between integrated or legacy approach",
    "use_integrated_pipeline": true,
    "require_modifications": true,
    
    "// Data Extraction Configuration": "How to extract data from previous steps",
    "data_extraction": {
      "temporal_resolution": "daily",
      "output_categories": ["zones", "hvac", "ventilation"],
      "use_modification_tracking": true,
      "use_sensitivity_filtering": false
    },
    
    "// Preprocessing Configuration": "How to prepare data for ML",
    "preprocessing": {
      "aggregation_level": "building",
      "use_sensitivity_filter": false,
      "sensitivity_threshold": 0.1,
      "normalize_features": true,
      "create_interactions": false,
      "target_variables": [
        "Zone Air System Sensible Heating Energy",
        "Zone Air System Sensible Cooling Energy"
      ],
      "handle_multi_level": true,
      "zone_aggregation": "weighted_mean"
    },
    
    "// Model Configuration": "ML model settings",
    "model_types": ["random_forest", "xgboost", "lightgbm", "extra_trees"],
    "automated_ml": true,
    "cv_strategy": "kfold",
    "test_size": 0.2,
    "scale_features": true,
    "scaler_type": "standard",
    "save_metadata": true,
    
    "// AutoML Configuration": "Advanced AutoML settings",
    "use_automl": false,
    "automl_framework": null,
    "automl_time_limit": 300,
    "automl_config": {
      "presets": "medium_quality",
      "eval_metric": "rmse",
      "max_models": 20
    },
    
    "// Time Slicing Configuration": "Analyze specific time periods",
    "time_slicing": {
      "enabled": false,
      "slice_type": "peak_months",
      "season": "cooling",
      "peak_cooling_months": [6, 7, 8],
      "peak_heating_months": [12, 1, 2],
      "compare_time_slices": false
    },
    
    "// Feature Engineering": "Additional feature creation",
    "feature_engineering": {
      "create_interactions": false,
      "interaction_features": 10,
      "polynomial_features": false,
      "polynomial_degree": 2,
      "extract_time_features": true
    },
    
    "// Output Management": "How to save and manage results",
    "output_management": {
      "save_artifacts": true,
      "create_validation_reports": true,
      "generate_prediction_interface": true,
      "export_for_optimization": true,
      "optimization_frameworks": ["scipy", "pyomo"],
      "version": "1.0",
      "create_model_card": true
    },
    
    "// Legacy Configuration": "For backward compatibility",
    "scenario_folder": "scenarios",
    "results_csv": "results_scenarios/merged_daily_mean_scenarios.csv",
    "model_out": "surrogate_models/surrogate_model.joblib",
    "cols_out": "surrogate_models/surrogate_columns.joblib",
    
    "// Feature Selection": "Select important features",
    "sensitivity_results_path": "sensitivity_results/sensitivity_for_surrogate.parquet",
    "feature_selection": {
      "method": "correlation",
      "top_n": 30,
      "threshold": null
    },
    
    "// Legacy File Patterns": "For scenario-based approach",
    "file_patterns": [
      "scenario_params_*.csv"
    ],
    "param_filters": {
      "include_params": null,
      "exclude_params": ["scenario_name", "timestamp"],
      "param_name_contains": null
    },
    
    "// Aggregation Settings": "For time series data",
    "time_aggregation": "sum",
    "aggregation_method": "sum",
    
    "// Validation Configuration": "Model validation settings",
    "validation": {
      "cross_validate": true,
      "n_folds": 5,
      "stratify": false,
      "time_series_split": false,
      "calculate_uncertainty": true
    },
    
    "// Export Options": "For downstream use",
    "export_options": {
      "save_predictions": true,
      "save_feature_importance": true,
      "create_api_endpoint": false,
      "generate_documentation": true
    }
  },

    










    "// ENHANCED CALIBRATION V1": "Uses PSO and multi-objective optimization",
    "calibration": {
      "perform_calibration": true,
      "scenario_folder": "scenarios",
      "method": "pso",
      "use_surrogate": true,
      "real_data_csv": "data/mock_merged_daily_mean.csv",
      "surrogate_model_path": "enhanced_multi_output_surrogate.joblib",
      "surrogate_columns_path": "enhanced_multi_output_columns.joblib",
      
      "// Multi-variable calibration": "",
      "target_variables": [
        "Zone Air System Sensible Heating Energy",
        "Zone Air System Sensible Cooling Energy",
        "Electricity:Facility [J](Hourly)"
      ],
      
      "// PSO configuration": "",
      "algorithm_config": {
        "pso": {
          "n_particles": 50,
          "max_iter": 100,
          "inertia": 0.9,
          "inertia_decay": 0.99,
          "cognitive": 2.0,
          "social": 2.0
        }
      },
      
      "// Multi-objective setup": "",
      "objectives": [
        {
          "target_variable": "Heating:EnergyTransfer [J](Hourly)",
          "metric": "cvrmse",
          "weight": 0.35,
          "tolerance": 25.0
        },
        {
          "target_variable": "Cooling:EnergyTransfer [J](Hourly)",
          "metric": "cvrmse",
          "weight": 0.35,
          "tolerance": 25.0
        },
        {
          "target_variable": "Electricity:Facility [J](Hourly)",
          "metric": "cvrmse",
          "weight": 0.3,
          "tolerance": 20.0
        }
      ],
      
      "// Parameter filtering using sensitivity results": "",
      "subset_sensitivity_csv": "enhanced_sensitivity.csv",
      "top_n_params": 15,
      "calibrate_min_max": true,
      
      "// Validation to prevent overfitting": "",
      "validation": {
        "cross_validate": true,
        "n_folds": 3,
        "overfitting_threshold": 0.15
      },
      
      "output_history_csv": "enhanced_calibration_history.csv",
      "best_params_folder": "calibrated_enhanced",
      "history_folder": "calibrated_enhanced"
    }
  },
  "shading_tree": [
    {
      "building_id": 413673000,
      "param_name": "top_n_buildings",
      "fixed_value": 5
    },
    {
      "building_function": "residential",
      "param_name": "summer_value",
      "min_val": 0.4,
      "max_val": 0.6
    },
    {
      "param_name": "top_n_trees",
      "fixed_value": 3
    }
  ],
  "vent": [
    {
      "building_id": 413673000,
      "param_name": "infiltration_base",
      "min_val": 100.3,
      "max_val": 100.4
    },
    {
      "building_function": "residential",
      "age_range": "1992-2005",
      "param_name": "year_factor",
      "min_val": 21.4,
      "max_val": 21.5
    },
    {
      "building_id": 4136731,
      "param_name": "system_type",
      "fixed_value": "D"
    },
    {
      "building_id": 4136731,
      "param_name": "fan_pressure",
      "min_val": 100,
      "max_val": 120
    }
  ]
}